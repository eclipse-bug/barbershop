{"ast":null,"code":"import _objectSpread from\"C:/wamp64/www/barbershop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from\"react\";import{motion}from\"framer-motion\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profile(){const navigate=useNavigate();const[user,setUser]=useState(null);const[editData,setEditData]=useState({nume:\"\",prenume:\"\",telefon:\"\"});useEffect(()=>{const storedUser=JSON.parse(localStorage.getItem(\"loggedUser\"));if(!storedUser){alert(\"Trebuie să fii autentificat pentru a accesa profilul.\");navigate(\"/login\");}else{setUser(storedUser);setEditData(storedUser);}},[navigate]);const handleChange=e=>{setEditData(_objectSpread(_objectSpread({},editData),{},{[e.target.name]:e.target.value}));};const handleSave=e=>{e.preventDefault();// actualizăm utilizatorul logat\nlocalStorage.setItem(\"loggedUser\",JSON.stringify(editData));// actualizăm și în lista completă de utilizatori\nconst allUsers=JSON.parse(localStorage.getItem(\"users\")||\"[]\");const updatedUsers=allUsers.map(u=>u.telefon===user.telefon?editData:u);localStorage.setItem(\"users\",JSON.stringify(updatedUsers));setUser(editData);alert(\"Profilul a fost actualizat cu succes!\");};if(!user)return null;return/*#__PURE__*/_jsx(\"section\",{className:\"min-h-screen flex items-center justify-center bg-[#0f0f0f] text-white\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:0.6},className:\"bg-black/40 backdrop-blur-md border border-[#d4af37]/30 rounded-2xl p-10 w-full max-w-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center text-[#d4af37] mb-6\",children:\"Profilul meu\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSave,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-300 mb-2\",children:\"Nume (Familie)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nume\",value:editData.nume,onChange:handleChange,className:\"w-full bg-transparent border border-[#d4af37]/30 text-white rounded-md px-4 py-2 focus:outline-none focus:border-[#d4af37] transition\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-300 mb-2\",children:\"Prenume (Nume mic)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"prenume\",value:editData.prenume,onChange:handleChange,className:\"w-full bg-transparent border border-[#d4af37]/30 text-white rounded-md px-4 py-2 focus:outline-none focus:border-[#d4af37] transition\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-300 mb-2\",children:\"Num\\u0103r de telefon\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"telefon\",value:editData.telefon,onChange:handleChange,disabled:true,className:\"w-full bg-transparent border border-[#d4af37]/30 text-gray-400 rounded-md px-4 py-2 cursor-not-allowed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Num\\u0103rul de telefon nu poate fi modificat.\"})]}),/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},type:\"submit\",className:\"w-full mt-4 bg-[#d4af37] text-black font-semibold py-3 rounded-md hover:bg-transparent hover:text-[#d4af37] border border-[#d4af37] transition duration-300\",children:\"Salveaz\\u0103 modific\\u0103rile\"})]})]})});}","map":{"version":3,"names":["useState","useEffect","motion","useNavigate","jsx","_jsx","jsxs","_jsxs","Profile","navigate","user","setUser","editData","setEditData","nume","prenume","telefon","storedUser","JSON","parse","localStorage","getItem","alert","handleChange","e","_objectSpread","target","name","value","handleSave","preventDefault","setItem","stringify","allUsers","updatedUsers","map","u","className","children","div","initial","opacity","y","animate","transition","duration","onSubmit","type","onChange","disabled","button","whileHover","scale","whileTap"],"sources":["C:/wamp64/www/barbershop/frontend/src/pages/Profile.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Profile() {\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState(null);\r\n  const [editData, setEditData] = useState({ nume: \"\", prenume: \"\", telefon: \"\" });\r\n\r\n  useEffect(() => {\r\n    const storedUser = JSON.parse(localStorage.getItem(\"loggedUser\"));\r\n    if (!storedUser) {\r\n      alert(\"Trebuie să fii autentificat pentru a accesa profilul.\");\r\n      navigate(\"/login\");\r\n    } else {\r\n      setUser(storedUser);\r\n      setEditData(storedUser);\r\n    }\r\n  }, [navigate]);\r\n\r\n  const handleChange = (e) => {\r\n    setEditData({ ...editData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSave = (e) => {\r\n    e.preventDefault();\r\n\r\n    // actualizăm utilizatorul logat\r\n    localStorage.setItem(\"loggedUser\", JSON.stringify(editData));\r\n\r\n    // actualizăm și în lista completă de utilizatori\r\n    const allUsers = JSON.parse(localStorage.getItem(\"users\") || \"[]\");\r\n    const updatedUsers = allUsers.map((u) =>\r\n      u.telefon === user.telefon ? editData : u\r\n    );\r\n    localStorage.setItem(\"users\", JSON.stringify(updatedUsers));\r\n\r\n    setUser(editData);\r\n    alert(\"Profilul a fost actualizat cu succes!\");\r\n  };\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <section className=\"min-h-screen flex items-center justify-center bg-[#0f0f0f] text-white\">\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 40 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.6 }}\r\n        className=\"bg-black/40 backdrop-blur-md border border-[#d4af37]/30 rounded-2xl p-10 w-full max-w-lg shadow-lg\"\r\n      >\r\n        <h2 className=\"text-3xl font-bold text-center text-[#d4af37] mb-6\">\r\n          Profilul meu\r\n        </h2>\r\n\r\n        <form onSubmit={handleSave} className=\"space-y-6\">\r\n          <div>\r\n            <label className=\"block text-sm text-gray-300 mb-2\">Nume (Familie)</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"nume\"\r\n              value={editData.nume}\r\n              onChange={handleChange}\r\n              className=\"w-full bg-transparent border border-[#d4af37]/30 text-white rounded-md px-4 py-2 focus:outline-none focus:border-[#d4af37] transition\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm text-gray-300 mb-2\">Prenume (Nume mic)</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"prenume\"\r\n              value={editData.prenume}\r\n              onChange={handleChange}\r\n              className=\"w-full bg-transparent border border-[#d4af37]/30 text-white rounded-md px-4 py-2 focus:outline-none focus:border-[#d4af37] transition\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm text-gray-300 mb-2\">Număr de telefon</label>\r\n            <input\r\n              type=\"tel\"\r\n              name=\"telefon\"\r\n              value={editData.telefon}\r\n              onChange={handleChange}\r\n              disabled\r\n              className=\"w-full bg-transparent border border-[#d4af37]/30 text-gray-400 rounded-md px-4 py-2 cursor-not-allowed\"\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-1\">Numărul de telefon nu poate fi modificat.</p>\r\n          </div>\r\n\r\n          <motion.button\r\n            whileHover={{ scale: 1.05 }}\r\n            whileTap={{ scale: 0.95 }}\r\n            type=\"submit\"\r\n            className=\"w-full mt-4 bg-[#d4af37] text-black font-semibold py-3 rounded-md hover:bg-transparent hover:text-[#d4af37] border border-[#d4af37] transition duration-300\"\r\n          >\r\n            Salvează modificările\r\n          </motion.button>\r\n        </form>\r\n      </motion.div>\r\n    </section>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}