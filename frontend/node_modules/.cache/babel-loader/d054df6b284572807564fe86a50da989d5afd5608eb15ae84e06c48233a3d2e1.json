{"ast":null,"code":"import{NavLink,useNavigate}from\"react-router-dom\";import{motion}from\"framer-motion\";import{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Navbar(){var _user$prenume;const[user,setUser]=useState(null);const navigate=useNavigate();// ðŸ” AscultÄƒm modificÄƒrile userului fÄƒrÄƒ refresh\nuseEffect(()=>{const updateUser=()=>{const storedUser=JSON.parse(localStorage.getItem(\"loggedUser\"));setUser(storedUser);};// citire imediatÄƒ la montare\nupdateUser();// ascultÄƒ evenimentul custom \"userUpdated\" È™i eventul nativ 'storage'\nwindow.addEventListener(\"userUpdated\",updateUser);window.addEventListener(\"storage\",updateUser);// cleanup\nreturn()=>{window.removeEventListener(\"userUpdated\",updateUser);window.removeEventListener(\"storage\",updateUser);};},[]);const handleLogout=()=>{localStorage.removeItem(\"loggedUser\");setUser(null);window.dispatchEvent(new Event(\"userUpdated\"));// trimitem semnal cÄƒtre toate componentele\nalert(\"Te-ai delogat cu succes!\");navigate(\"/login\");};// âœ… Definim criteriile pentru Admin\nconst isAdmin=user&&(user.telefon===\"+37360000000\"||user.telefon===\"076784211\"||((_user$prenume=user.prenume)===null||_user$prenume===void 0?void 0:_user$prenume.toLowerCase())===\"denis\");return/*#__PURE__*/_jsx(motion.nav,{initial:{y:-40,opacity:0},animate:{y:0,opacity:1},transition:{duration:0.5},className:\"backdrop-blur-md bg-black/70 border-b border-[#d4af37]/30 sticky top-0 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-8 py-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"h1\",{onClick:()=>navigate(\"/\"),className:\"text-2xl font-semibold text-[#d4af37] tracking-wide cursor-pointer select-none\",children:[\"Denis \",/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"Barbershop\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-6 text-sm font-medium hidden md:block\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:_ref=>{let{isActive}=_ref;return isActive?\"text-[#d4af37]\":\"text-gray-300 hover:text-[#d4af37] transition\";},children:\"Acas\\u0103\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/services\",className:_ref2=>{let{isActive}=_ref2;return isActive?\"text-[#d4af37]\":\"text-gray-300 hover:text-[#d4af37] transition\";},children:\"Servicii\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/booking\",className:_ref3=>{let{isActive}=_ref3;return isActive?\"text-[#d4af37]\":\"text-gray-300 hover:text-[#d4af37] transition\";},children:\"Program\\u0103ri\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/about\",className:_ref4=>{let{isActive}=_ref4;return isActive?\"text-[#d4af37]\":\"text-gray-300 hover:text-[#d4af37] transition\";},children:\"Despre noi\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/contact\",className:_ref5=>{let{isActive}=_ref5;return isActive?\"text-[#d4af37]\":\"text-gray-300 hover:text-[#d4af37] transition\";},children:\"Contact\"}),isAdmin&&/*#__PURE__*/_jsx(NavLink,{to:\"/dashboard\",className:_ref6=>{let{isActive}=_ref6;return isActive?\"text-[#d4af37]\":\"text-gray-300 hover:text-[#d4af37] transition\";},children:\"Dashboard\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-4\",children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-[#d4af37] font-medium\",children:[\"Salut,\",\" \",/*#__PURE__*/_jsx(NavLink,{to:\"/profile\",className:\"underline-offset-4 hover:underline\",children:user.prenume})]}),isAdmin&&/*#__PURE__*/_jsx(motion.span,{whileHover:{scale:1.1},className:\"text-xs bg-[#d4af37] text-black font-semibold px-2 py-[2px] rounded-full uppercase tracking-wide\",children:\"Admin\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"px-4 py-2 rounded-md border border-[#d4af37] text-[#d4af37] hover:bg-[#d4af37] hover:text-black transition\",children:\"Logout\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:\"text-gray-300 hover:text-[#d4af37] transition\",children:\"Login\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/register\",className:\"px-4 py-2 rounded-md border border-[#d4af37] text-[#d4af37] hover:bg-[#d4af37] hover:text-black transition\",children:\"Register\"})]})})]})});}","map":{"version":3,"names":["NavLink","useNavigate","motion","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","_user$prenume","user","setUser","navigate","updateUser","storedUser","JSON","parse","localStorage","getItem","window","addEventListener","removeEventListener","handleLogout","removeItem","dispatchEvent","Event","alert","isAdmin","telefon","prenume","toLowerCase","nav","initial","y","opacity","animate","transition","duration","className","children","onClick","to","_ref","isActive","_ref2","_ref3","_ref4","_ref5","_ref6","span","whileHover","scale"],"sources":["C:/wamp64/www/barbershop/frontend/src/components/Navbar.jsx"],"sourcesContent":["import { NavLink, useNavigate } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function Navbar() {\r\n  const [user, setUser] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  // ðŸ” AscultÄƒm modificÄƒrile userului fÄƒrÄƒ refresh\r\n  useEffect(() => {\r\n    const updateUser = () => {\r\n      const storedUser = JSON.parse(localStorage.getItem(\"loggedUser\"));\r\n      setUser(storedUser);\r\n    };\r\n\r\n    // citire imediatÄƒ la montare\r\n    updateUser();\r\n\r\n    // ascultÄƒ evenimentul custom \"userUpdated\" È™i eventul nativ 'storage'\r\n    window.addEventListener(\"userUpdated\", updateUser);\r\n    window.addEventListener(\"storage\", updateUser);\r\n\r\n    // cleanup\r\n    return () => {\r\n      window.removeEventListener(\"userUpdated\", updateUser);\r\n      window.removeEventListener(\"storage\", updateUser);\r\n    };\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"loggedUser\");\r\n    setUser(null);\r\n    window.dispatchEvent(new Event(\"userUpdated\")); // trimitem semnal cÄƒtre toate componentele\r\n    alert(\"Te-ai delogat cu succes!\");\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  // âœ… Definim criteriile pentru Admin\r\n  const isAdmin =\r\n    user &&\r\n    (\r\n      user.telefon === \"+37360000000\" ||\r\n      user.telefon === \"076784211\" ||\r\n      user.prenume?.toLowerCase() === \"denis\"\r\n    );\r\n\r\n  return (\r\n    <motion.nav\r\n      initial={{ y: -40, opacity: 0 }}\r\n      animate={{ y: 0, opacity: 1 }}\r\n      transition={{ duration: 0.5 }}\r\n      className=\"backdrop-blur-md bg-black/70 border-b border-[#d4af37]/30 sticky top-0 z-50\"\r\n    >\r\n      <div className=\"max-w-7xl mx-auto px-8 py-4 flex justify-between items-center\">\r\n        {/* Logo */}\r\n        <h1\r\n          onClick={() => navigate(\"/\")}\r\n          className=\"text-2xl font-semibold text-[#d4af37] tracking-wide cursor-pointer select-none\"\r\n        >\r\n          Denis <span className=\"text-white\">Barbershop</span>\r\n        </h1>\r\n\r\n        {/* Meniu principal */}\r\n        <div className=\"space-x-6 text-sm font-medium hidden md:block\">\r\n          <NavLink\r\n            to=\"/\"\r\n            className={({ isActive }) =>\r\n              isActive\r\n                ? \"text-[#d4af37]\"\r\n                : \"text-gray-300 hover:text-[#d4af37] transition\"\r\n            }\r\n          >\r\n            AcasÄƒ\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/services\"\r\n            className={({ isActive }) =>\r\n              isActive\r\n                ? \"text-[#d4af37]\"\r\n                : \"text-gray-300 hover:text-[#d4af37] transition\"\r\n            }\r\n          >\r\n            Servicii\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/booking\"\r\n            className={({ isActive }) =>\r\n              isActive\r\n                ? \"text-[#d4af37]\"\r\n                : \"text-gray-300 hover:text-[#d4af37] transition\"\r\n            }\r\n          >\r\n            ProgramÄƒri\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/about\"\r\n            className={({ isActive }) =>\r\n              isActive\r\n                ? \"text-[#d4af37]\"\r\n                : \"text-gray-300 hover:text-[#d4af37] transition\"\r\n            }\r\n          >\r\n            Despre noi\r\n          </NavLink>\r\n          <NavLink\r\n            to=\"/contact\"\r\n            className={({ isActive }) =>\r\n              isActive\r\n                ? \"text-[#d4af37]\"\r\n                : \"text-gray-300 hover:text-[#d4af37] transition\"\r\n            }\r\n          >\r\n            Contact\r\n          </NavLink>\r\n\r\n          {/* âœ… Dashboard vizibil doar pentru Admin */}\r\n          {isAdmin && (\r\n            <NavLink\r\n              to=\"/dashboard\"\r\n              className={({ isActive }) =>\r\n                isActive\r\n                  ? \"text-[#d4af37]\"\r\n                  : \"text-gray-300 hover:text-[#d4af37] transition\"\r\n              }\r\n            >\r\n              Dashboard\r\n            </NavLink>\r\n          )}\r\n        </div>\r\n\r\n        {/* Dreapta: utilizator logat / nelogat */}\r\n        <div className=\"flex items-center gap-4\">\r\n          {user ? (\r\n            <>\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-[#d4af37] font-medium\">\r\n                  Salut,{\" \"}\r\n                  <NavLink\r\n                    to=\"/profile\"\r\n                    className=\"underline-offset-4 hover:underline\"\r\n                  >\r\n                    {user.prenume}\r\n                  </NavLink>\r\n                </span>\r\n\r\n                {/* ðŸ”° Badge Admin */}\r\n                {isAdmin && (\r\n                  <motion.span\r\n                    whileHover={{ scale: 1.1 }}\r\n                    className=\"text-xs bg-[#d4af37] text-black font-semibold px-2 py-[2px] rounded-full uppercase tracking-wide\"\r\n                  >\r\n                    Admin\r\n                  </motion.span>\r\n                )}\r\n              </div>\r\n\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"px-4 py-2 rounded-md border border-[#d4af37] text-[#d4af37] hover:bg-[#d4af37] hover:text-black transition\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <NavLink\r\n                to=\"/login\"\r\n                className=\"text-gray-300 hover:text-[#d4af37] transition\"\r\n              >\r\n                Login\r\n              </NavLink>\r\n              <NavLink\r\n                to=\"/register\"\r\n                className=\"px-4 py-2 rounded-md border border-[#d4af37] text-[#d4af37] hover:bg-[#d4af37] hover:text-black transition\"\r\n              >\r\n                Register\r\n              </NavLink>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </motion.nav>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}