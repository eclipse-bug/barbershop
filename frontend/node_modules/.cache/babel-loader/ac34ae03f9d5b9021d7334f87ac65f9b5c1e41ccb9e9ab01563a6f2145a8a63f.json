{"ast":null,"code":"import{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Dashboard(){const[bookings,setBookings]=useState([]);useEffect(()=>{const stored=JSON.parse(localStorage.getItem(\"bookings\")||\"[]\");setBookings(stored);},[]);const deleteBooking=index=>{const updated=bookings.filter((_,i)=>i!==index);setBookings(updated);localStorage.setItem(\"bookings\",JSON.stringify(updated));};// ✅ Funcție care forțează formatul MM/DD/YYYY indiferent de ce e salvat\nconst fixToMMDDYYYY=dateStr=>{if(!dateStr)return\"\";// dacă e deja mm/dd/yyyy\nconst mmdd=dateStr.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/);if(mmdd){const[_,mm,dd,yyyy]=mmdd;return\"\".concat(mm,\"/\").concat(dd,\"/\").concat(yyyy);}// dacă e dd/mm/yyyy → inversăm\nconst ddmm=dateStr.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/);if(ddmm){const[_,dd,mm,yyyy]=ddmm;return\"\".concat(mm,\"/\").concat(dd,\"/\").concat(yyyy);}// dacă e yyyy-mm-dd → convertim manual\nconst iso=dateStr.match(/^(\\d{4})-(\\d{2})-(\\d{2})$/);if(iso){const[_,yyyy,mm,dd]=iso;return\"\".concat(mm,\"/\").concat(dd,\"/\").concat(yyyy);}// fallback - lăsăm stringul original\nreturn dateStr;};return/*#__PURE__*/_jsxs(\"section\",{className:\"min-h-screen bg-[#0f0f0f] text-white p-10\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center text-[#d4af37] mb-10\",children:\"Program\\u0103ri \\u2014 Panou Admin\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 gap-6 max-w-5xl mx-auto\",children:bookings.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-400 col-span-2\",children:\"Nu exist\\u0103 program\\u0103ri \\xEEnregistrate.\"}):bookings.map((b,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-black/40 border border-[#d4af37]/40 p-6 rounded-xl\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-[#d4af37] font-semibold mb-2\",children:[\"Programarea #\",i+1]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nume:\"}),\" \",b.nume,\" \",b.prenume]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Telefon:\"}),\" \",b.telefon]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Serviciu:\"}),\" \",b.service]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data:\"}),\" \",fixToMMDDYYYY(b.date)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ora:\"}),\" \",b.time]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteBooking(i),className:\"text-red-500 mt-3 hover:underline\",children:\"\\u0218terge\"})]},i))})]});}","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","Dashboard","bookings","setBookings","stored","JSON","parse","localStorage","getItem","deleteBooking","index","updated","filter","_","i","setItem","stringify","fixToMMDDYYYY","dateStr","mmdd","match","mm","dd","yyyy","concat","ddmm","iso","className","children","length","map","b","nume","prenume","telefon","service","date","time","onClick"],"sources":["C:/wamp64/www/barbershop/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nexport default function Dashboard() {\r\n  const [bookings, setBookings] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const stored = JSON.parse(localStorage.getItem(\"bookings\") || \"[]\");\r\n    setBookings(stored);\r\n  }, []);\r\n\r\n  const deleteBooking = (index) => {\r\n    const updated = bookings.filter((_, i) => i !== index);\r\n    setBookings(updated);\r\n    localStorage.setItem(\"bookings\", JSON.stringify(updated));\r\n  };\r\n\r\n  // ✅ Funcție care forțează formatul MM/DD/YYYY indiferent de ce e salvat\r\n  const fixToMMDDYYYY = (dateStr) => {\r\n    if (!dateStr) return \"\";\r\n\r\n    // dacă e deja mm/dd/yyyy\r\n    const mmdd = dateStr.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/);\r\n    if (mmdd) {\r\n      const [_, mm, dd, yyyy] = mmdd;\r\n      return `${mm}/${dd}/${yyyy}`;\r\n    }\r\n\r\n    // dacă e dd/mm/yyyy → inversăm\r\n    const ddmm = dateStr.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/);\r\n    if (ddmm) {\r\n      const [_, dd, mm, yyyy] = ddmm;\r\n      return `${mm}/${dd}/${yyyy}`;\r\n    }\r\n\r\n    // dacă e yyyy-mm-dd → convertim manual\r\n    const iso = dateStr.match(/^(\\d{4})-(\\d{2})-(\\d{2})$/);\r\n    if (iso) {\r\n      const [_, yyyy, mm, dd] = iso;\r\n      return `${mm}/${dd}/${yyyy}`;\r\n    }\r\n\r\n    // fallback - lăsăm stringul original\r\n    return dateStr;\r\n  };\r\n\r\n  return (\r\n    <section className=\"min-h-screen bg-[#0f0f0f] text-white p-10\">\r\n      <h1 className=\"text-3xl font-bold text-center text-[#d4af37] mb-10\">\r\n        Programări — Panou Admin\r\n      </h1>\r\n\r\n      <div className=\"grid md:grid-cols-2 gap-6 max-w-5xl mx-auto\">\r\n        {bookings.length === 0 ? (\r\n          <p className=\"text-center text-gray-400 col-span-2\">\r\n            Nu există programări înregistrate.\r\n          </p>\r\n        ) : (\r\n          bookings.map((b, i) => (\r\n            <div\r\n              key={i}\r\n              className=\"bg-black/40 border border-[#d4af37]/40 p-6 rounded-xl\"\r\n            >\r\n              <p className=\"text-[#d4af37] font-semibold mb-2\">\r\n                Programarea #{i + 1}\r\n              </p>\r\n              <p>\r\n                <strong>Nume:</strong> {b.nume} {b.prenume}\r\n              </p>\r\n              <p>\r\n                <strong>Telefon:</strong> {b.telefon}\r\n              </p>\r\n              <p>\r\n                <strong>Serviciu:</strong> {b.service}\r\n              </p>\r\n              <p>\r\n                <strong>Data:</strong> {fixToMMDDYYYY(b.date)}\r\n              </p>\r\n              <p>\r\n                <strong>Ora:</strong> {b.time}\r\n              </p>\r\n\r\n              <button\r\n                onClick={() => deleteBooking(i)}\r\n                className=\"text-red-500 mt-3 hover:underline\"\r\n              >\r\n                Șterge\r\n              </button>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}